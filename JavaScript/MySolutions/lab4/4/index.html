<!DOCTYPE html>

<head>
  <style>
    .error {
      color: red;
      font-size: 12px;
      display: inline-block;
    }
  </style>
  <script>
    var invalidImgName, invalidImgPass, invalidImgEmail;
    var flag = true;
    function nameFocus(element) {
      element.style.border = "solid 1px blue"
    }
    function emailFocus(element) {
      element.style.border = "solid 1px blue"
    }
    function validateName(element) {
      var name = element.value
      // console.log(name)
      let validImg = document.getElementById("valid-img-name");
      invalidImgName = document.getElementById("invalid-img-name");
      if (name == "" || name.length < 3) {
        invalidImgName.style.display = "inline";
        validImg.style.display = "none";
        element.style.backgroundColor = "gray";
        element.onfocus();
        element.select();
      } else {
        validImg.style.display = "inline";
        invalidImgName.style.display = "none";
        element.style.backgroundColor = "white";
        element.style.border = "solid 1px #ccc";
      }
    }
    function validateEmail(element) {
      var emailRegex = /^[A-Za-z0-9_]+@([A-Za-z0-9_.-]+\.)+(com|net|edu|org)$/;
      var email = element.value
      let validImg = document.getElementById("valid-img-email");
      invalidImgEmail = document.getElementById("invalid-img-email");
      if (!emailRegex.test(email)) {
        invalidImgEmail.style.display = "inline";
        validImg.style.display = "none";
        element.style.backgroundColor = "gray";
        element.onfocus();
        element.select();
      } else {
        validImg.style.display = "inline";
        invalidImgEmail.style.display = "none";
        element.style.backgroundColor = "white";
        element.style.border = "solid 1px #ccc";
      }
    }
    function validatePassword() {
      var password = document.getElementById("password");
      var repeat = document.getElementById("repeat");
      var pass1 = password.value;
      var pass2 = repeat.value;
      let validImg = document.getElementById("valid-img-pass");
      invalidImgPass = document.getElementById("invalid-img-pass");
      if (pass1 == "" || pass2 == "" || pass1 != pass2) {
        invalidImgPass.style.display = "inline";
        validImg.style.display = "none";
        password.style.backgroundColor = "gray";
        repeat.style.backgroundColor = "gray";
      } else {
        invalidImgPass.style.display = "none";
        validImg.style.display = "inline";
        password.style.backgroundColor = "white";
        repeat.style.backgroundColor = "white";
      }
    }

    function validateForm(e) {
      var validImgSubmit = document.getElementById("valid-img-submit");
      var invalidImgSubmit = document.getElementById("invalid-img-submit");
      if (invalidImgName.style.display === "inline" || invalidImgEmail.style.display === "inline" || invalidImgPass.style.display === "inline") {
        invalidImgSubmit.style.display = "inline"
        e.preventDefault();
      }
      else {
        invalidImgSubmit.style.display = "none"
        validImgSubmit.style.display = "inline"

      }
    }

  </script>
</head>

<body>
  <img src="" alt="">
  <form action="home.html" method="get" onsubmit="validateForm(event)">
    <label for="name"> Full Name </label>
    <input type="text" id="name" name="name" placeholder="Enter your name:" required onfocus="nameFocus(this)"
      onblur="validateName(this)">&nbsp;
    <img id="valid-img-name" src="true.png" style="display: none" width="40" height="30">
    <img id="invalid-img-name" src="false.png" style="display: none" width="20" height="20">



    <br><br>
    <label for="email">Email</label>
    <input type="email" id="email" name="email" placeholder="Enter your email:" onfocus="emailFocus(this)"
      onblur="validateEmail(this)" required>
    <img id="valid-img-email" src="true.png" style="display: none" width="40" height="30">
    <img id="invalid-img-email" src="false.png" style="display: none" width="20" height="20">
    <br><br>

    <label for="city">City</label>
    <select id="city" name="city">
      <option value="Cairo">Cairo</option>
      <option value="Alexandria">Alexandria</option>
      <option value="Giza">Giza</option>
      <option value="Luxor">Luxor</option>
      <option value="Aswan">Aswan</option>
    </select>
    <br><br>

    <label for="password">Password</label>
    <input type="password" id="password" name="password" placeholder="Enter your password:" required
      onblur="validatePassword()">
    <img id="valid-img-pass" src="true.png" style="display: none" width="40" height="30">
    <img id="invalid-img-pass" src="false.png" style="display: none" width="20" height="20">
    <br><br>

    <label for="repeat">Repeat password</label>
    <input type="password" id="repeat" name="repeat" placeholder="Re-enter thr password:" required
      onblur="validatePassword()">
    <br><br>

    <label for="terms">
      <a href="terms.html" target="_blank">I agree to Terms and conditions</a>
    </label>
    <input type="checkbox" id="terms" name="terms" required>
    <br><br>
    <button type="submit">Register</button>
    <img id="valid-img-submit" src="true.png" style="display: none" width="40" height="30">
    <img id="invalid-img-submit" src="false.png" style="display: none" width="20" height="20">
  </form>
</body>

</html>